---
// Constants
import { defaultNavigationItems } from '@/components/navigation'
import { allRatedWallets } from '@/data/wallets'
import { ratedHardwareWallets } from '@/data/hardware-wallets'

import {
	ecosystemAttributeGroup,
	privacyAttributeGroup,
	securityAttributeGroup,
	selfSovereigntyAttributeGroup,
	transparencyAttributeGroup,
	mapNonExemptAttributeGroupsInTree,
} from '@/schema/attribute-groups'

const attributeGroups = [
	securityAttributeGroup,
	privacyAttributeGroup,
	selfSovereigntyAttributeGroup,
	transparencyAttributeGroup,
	ecosystemAttributeGroup,
]


// Layouts
import Layout from '../layouts/Layout.astro'

// Components
import Navigation from '@/ui/organisms/Navigation.astro'
import WalletTable from '@/ui/organisms/WalletTable.svelte'
---


<Layout
	metadata={{
		title: 'Walletbeat',
	}}
>
	<div class="layout">
		<Navigation
			navigationItems={defaultNavigationItems}
		/>

		<main>
			<header>
				<div>
					<h1>Who watches the wallets?</h1>
					<p>
						Beta version; For content contributions, please see{' '}
						<a href="https://github.com/walletbeat/walletbeat" target="_blank" rel="noreferrer">
							GitHub
						</a>
						.
					</p>
				</div>
				<div>
					<img src="robot.png" alt="Walletbeat Robot" />
				</div>
			</header>

			<section id="summary">
				<div>
					<h2>Software Wallets</h2>
					<WalletTable
						client:load
						wallets={
							Object
								.values(allRatedWallets)
						}
						{attributeGroups}
					/>
				</div>

				<div>
					<h2>Hardware Wallets</h2>
					<WalletTable
						client:load
						wallets={
							Object
								.values(ratedHardwareWallets)
						}
						{attributeGroups}
					/>
				</div>
			</section>
		</main>
	</div>
</Layout>


<style>
	.layout {
		display: grid;
		grid-template-columns: auto minmax(0, 1fr);
		max-width: 100dvw;
		min-height: 100dvh;

		@media (max-width: 1024px) {
			grid-template-columns: minmax(0, 1fr);
		}
	}

	main {
		overflow-y: auto;
		max-height: 100dvh;
		padding-bottom: 6rem;

		header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 3rem 2rem;
			min-height: 24rem;

			@media (max-width: 768px) {
				flex-direction: column;
				text-align: center;
				padding: 2rem 1rem;
			}

			div:first-child {
				flex: 1;
				max-width: 32rem;

				h1 {
					font-size: 3rem;
					font-weight: 800;
					color: var(--accent);
					margin: 0 0 1rem 0;
					line-height: 1.1;

					@media (max-width: 768px) {
						font-size: 2.5rem;
					}
				}

				p {
					font-size: 1.125rem;
					color: var(--text-secondary);
					line-height: 1.6;
					margin: 0;

					a {
						color: var(--accent);
						text-decoration: underline;
						font-weight: 500;

						&:hover {
							text-decoration: none;
						}
					}
				}
			}

			div:last-child {
				flex: 1;
				display: flex;
				justify-content: center;
				align-items: center;

				img {
					height: 20rem;
					width: auto;
					object-fit: contain;

					@media (max-width: 768px) {
						height: 16rem;
						margin-top: 2rem;
					}
				}
			}
		}

		section {
			padding: 2rem;
			display: grid;
			gap: 3rem;
			max-width: 80rem;
			margin: 0 auto;

			@media (max-width: 768px) {
				padding: 1rem;
				gap: 2rem;
			}

			div {
				h2 {
					font-size: 1.5rem;
					font-weight: 600;
					color: var(--text-primary);
					margin: 0;
				}
			}
		}
	}
</style>
