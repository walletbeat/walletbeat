---
// Constants
import { defaultNavigationItems } from '@/components/navigation'
import { allRatedWallets } from '@/data/wallets'
import { ratedHardwareWallets } from '@/data/hardware-wallets'

import {
	ecosystemAttributeGroup,
	privacyAttributeGroup,
	securityAttributeGroup,
	selfSovereigntyAttributeGroup,
	transparencyAttributeGroup,
	mapNonExemptAttributeGroupsInTree,
} from '@/schema/attribute-groups'

const attributeGroups = [
	securityAttributeGroup,
	privacyAttributeGroup,
	selfSovereigntyAttributeGroup,
	transparencyAttributeGroup,
	ecosystemAttributeGroup,
]


// Layouts
import Layout from '../layouts/Layout.astro'

// Components
import Navigation from '@/ui/organisms/Navigation.astro'
import WalletTable from '@/ui/organisms/WalletTable.svelte'
---


<Layout
	metadata={{
		title: 'Walletbeat',
	}}
>
	<Navigation
		navigationItems={defaultNavigationItems}
	/>

	<main data-sticky-container>
		<header
			data-sticky="inline"
		>
			<h1>Who watches the wallets?</h1>

			<p>Beta version. For content contributions, please see <a href="https://github.com/walletbeat/walletbeat" target="_blank" rel="noreferrer">GitHub</a>.</p>
		</header>

		<section>
			<header data-sticky="inline">
				<h2>Software Wallets</h2>
			</header>

			<WalletTable
				client:load
				wallets={
					Object
						.values(allRatedWallets)
				}
				{attributeGroups}
			/>
		</section>

		<section>
			<header data-sticky="inline">
				<h2>Hardware Wallets</h2>
			</header>

			<WalletTable
				client:load
				wallets={
					Object
						.values(ratedHardwareWallets)
				}
				{attributeGroups}
			/>
		</section>
	</main>
</Layout>


<style>
	main {
		header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 3rem 2rem;
			min-height: 24rem;

			@media (max-width: 768px) {
				flex-direction: column;
				text-align: center;
				padding: 2rem 1rem;
			}

			div:first-child {
				flex: 1;
				max-width: 32rem;

				h1 {
					font-size: 3rem;
					font-weight: 800;
					color: var(--accent);
					margin: 0 0 1rem 0;
					line-height: 1.1;

					@media (max-width: 768px) {
						font-size: 2.5rem;
					}
				}

				p {
					font-size: 1.125rem;
					color: var(--text-secondary);
					line-height: 1.6;
					margin: 0;

					a {
						color: var(--accent);
						text-decoration: underline;
						font-weight: 500;

						&:hover {
							text-decoration: none;
						}
					}
				}
			}

			div:last-child {
				flex: 1;
				display: flex;
				justify-content: center;
				align-items: center;

				img {
					height: 20rem;
					width: auto;
					object-fit: contain;

					@media (max-width: 768px) {
						height: 16rem;
						margin-top: 2rem;
					}
				}
			}
		}

		section {
			padding: 2rem;
			display: grid;
			gap: 2rem;
			max-width: 80rem;
			margin: 0 auto;

			@media (max-width: 768px) {
				padding: 1rem;
				gap: 2rem;
			}

			div {
				h2 {
					font-size: 1.5rem;
					font-weight: 600;
					color: var(--text-primary);
					margin: 0;
				}
			}
		}
	}
</style>
